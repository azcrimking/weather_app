<div class="row">
  <div class="col-md-6 col-md-offset-3">
    <div class="well">
      <h1>Look Up Your Local Forecast</h1>
      <p>What's the weather like in your city?</p>
      <div>
        <%= form_tag index_path do %>
        <%= text_field_tag :city, nil, placeholder: "City", class: "from-control" %> <br>
        <%= select_tag :state, options_for_select(@states), prompt: "Please select a state" %>  <br> <br>
        <%= submit_tag "Check Weather", class: "btn btn-success" %>
      <% end %>
      </div>
    </div>
  </div>
</div>

<!-- our response from weather wunderground's API -->

<div class="row">
  <div class="col-md-6 col-md-offset-3">
    <div class="well">
    <!-- bring in the instance variable from our controller to display on our index page. -->
    <!-- check to make sure @location is not empty or nil and that the API did not return an error -->
    <% if @location !=nil && @location != "" && (@error == "" || @error == nil)%>
    <h1>Forecast for <%= @location %></h1>

    <div class="row">
      <div class="col-md-7">
      <p><em>What's the weather like?</em></p>
      <p>
        Temperature is : <%= @temp_f %>° F / <%= @temp_c %>° C
          </p>
          <p>
            Feels like: <%= @real_feel %>° F
          </p>
        <div>
        <div class="col-md-5">
          <p>
            <%= @weather_words %> <%= image_tag @weather_icon %>
          </p>
          <p>
            <%= link_to "Full Forecast", @forecast_link, target: "_blank" %>
          </p>
        </div>
      </div>

    <% else %>
      <p>Error: Please enter a valid request.. <%= @error %> </p>
    <% end %>
    </div>
  </div>
</div>
